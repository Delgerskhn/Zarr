@using Microsoft.AspNetCore.Mvc.Localization
@inject IViewLocalizer Localizer
@{
    ViewData["Title"] = "Home Page";
}

<div class="text-center">
    <h1 class="display-4">@Localizer["Welcome"]</h1>
</div>

@(Html.DevExtreme().TreeList<ZarNet.Models.PostView>()
    .DataSource(ds => ds.Mvc()
        .Controller("Posts")
        .LoadAction("GetPostView")
        .Key("CategoryId")
    )
    .RootValue(0)
    .ParentIdExpr("ParentCategoryId")
    .RemoteOperations(o => o.Filtering(true).Grouping(true).Sorting(true))
    .SearchPanel(seachPanel => seachPanel
        .Visible(true)
        .Width(250)
    )
    .HeaderFilter(headerFilter => headerFilter.Visible(true))
    .Selection(s => s
        .Mode(SelectionMode.Single)
    )
    .ColumnChooser(cc => cc.Enabled(true))
    .ColumnAutoWidth(true)
    .WordWrapEnabled(true)
    .ShowBorders(true)
    .Columns(columns => {


        columns.AddFor(m => m.CategoryName);

        columns.AddFor(m => m.Title);

        columns.AddFor(m => m.MarkCode);

        columns.AddFor(m => m.Description);

        columns.AddFor(m => m.Price);

        columns.AddFor(m => m.Img);

        columns.AddFor(m => m.CompanyName);
    })
)